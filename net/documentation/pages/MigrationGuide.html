

<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Migration Guide &#8212; VectorNav SDK 0.22.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/cloud.css?v=36acb9b5" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../_static/collapsible-lists\css\tree_view.css?v=a885cde7" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=a6d58504" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noticia+Text:400,i,b,bi|Open+Sans:400,i,b,bi|Roboto+Mono:400,i,b,bi&amp;display=swap" type="text/css" />
    
    <script src="../_static/documentation_options.js?v=5686f5df"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/tabs.js?v=3ee01567"></script>
    <script src="../_static/collapsible-lists\js\CollapsibleLists.compressed.js?v=73120307"></script>
    <script src="../_static/collapsible-lists\js\apply-collapsible-lists.js?v=660e4f45"></script>

    
    
     
        <script src="../_static/jquery.cookie.js"></script>
    

    
     
        <script src="../_static/cloud.base.js"></script>
    

    
     
        <script src="../_static/cloud.js"></script>
    

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Getting Started" href="GettingStarted.html" />
    <link rel="prev" title="VectorNav CLI SDK" href="../Documentation.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="GettingStarted.html" title="Getting Started"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="../Documentation.html" title="VectorNav CLI SDK"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="../Documentation.html">VectorNav SDK 0.22.0 documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Migration Guide</a></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="migration-guide">
<h1>Migration Guide<a class="headerlink" href="#migration-guide" title="Link to this heading">¶</a></h1>
<p id="migrationguidecli">This CLI migration guide highlights the changes between VectorNav’s Programming Library and VectorNav’s Software Development Kit (SDK) for CLI/.NET applications. This guide is not a how-to guide but rather a document of new features and changes between the two software package to ensure a smooth transition for users migrating from the Programming Library to the SDK. As discussed throughout this document, the fundamental way to interface with the sensor is the same across the two software packages but many features have been updated, and the performance has improved significantly in the SDK.</p>
<section id="notable-changes-and-features">
<h2>Notable Changes and Features<a class="headerlink" href="#notable-changes-and-features" title="Link to this heading">¶</a></h2>
<section id="highlights">
<h3>Highlights<a class="headerlink" href="#highlights" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Significant performance improvements</p></li>
<li><p>High-rate data stability (can output above 200 Hz)</p></li>
<li><p>Ability to catch exceptions</p></li>
<li><p>Added measurements and registers</p></li>
<li><p>Ability to log raw serial data</p></li>
<li><p>New plugin support (For a list of available plugins in the VNSDK, see <a class="reference internal" href="#plugin-list">Plugin List</a>)</p></li>
<li><p>Compatibility with FB packets</p></li>
</ul>
</section>
<section id="configuration-file">
<h3>Configuration File<a class="headerlink" href="#configuration-file" title="Link to this heading">¶</a></h3>
<p>The DLL provided was compiled using the settings configured in the <code class="docutils literal notranslate"><span class="pre">cpp/include/vectornav/Config.hpp</span></code> file. These settings were optimized to work well on a wide range of platforms from embedded systems to desktop computers. Since Windows systems do not typically have the same memory constraints as an embedded system, it may be desired to modify these configuration settings, such as to increase buffer sizes. To do so, the user would need to configure the desired settings in the <code class="docutils literal notranslate"><span class="pre">Config.hpp</span></code> file and recompile the DLL.</p>
</section>
</section>
<section id="migrating-from-the-vectornav-programming-library-to-the-vnsdk">
<h2>Migrating from the VectorNav Programming Library to the VNSDK<a class="headerlink" href="#migrating-from-the-vectornav-programming-library-to-the-vnsdk" title="Link to this heading">¶</a></h2>
<p>The CLI SDK wraps the C++ SDK using <a class="reference external" href="https://learn.microsoft.com/en-us/cpp/dotnet/dotnet-programming-with-cpp-cli-visual-cpp?view=msvc-170">C++/CLI</a> to provide a .NET-accessible DLL file for use in MATLAB or C#. This migration guide provides the basic communication differences between the VNSDK and the Programming Library for MATLAB and C#.</p>
<section id="naming-conventions">
<h3>Naming Conventions<a class="headerlink" href="#naming-conventions" title="Link to this heading">¶</a></h3>
<p>The CLI wrapper follows .NET naming conventions, which are consistent between C# and MATLAB when using the .NET assembly:</p>
<ul class="simple">
<li><p><strong>Classes</strong>, <strong>structures</strong>, and <strong>method names</strong> are written in <strong>PascalCase</strong>. To illustrate, classes are written as <code class="docutils literal notranslate"><span class="pre">VNSDK.Registers.Attitude.YawPitchRoll</span></code>, and sensor methods are written as <code class="docutils literal notranslate"><span class="pre">sensor.ReadRegister()</span></code>.</p></li>
<li><p><strong>Enumeration values</strong> and <strong>constants</strong> are also written in <strong>PascalCase</strong> and scoped within their parent type. For example, enums are written as <code class="docutils literal notranslate"><span class="pre">AsyncOutputType.Ador.YPR</span></code> and <code class="docutils literal notranslate"><span class="pre">BaudRate.BaudRates.BaudBaud115200</span></code>.</p></li>
<li><p><strong>Data member accessors</strong> and <strong>variable accessors</strong> uses <strong>camelCase</strong>. For example, accessing register data is written as <code class="docutils literal notranslate"><span class="pre">yprRegister.yaw</span></code>, and composite data as <code class="docutils literal notranslate"><span class="pre">compositeData.Value.imu.accel.Value</span></code>.</p></li>
<li><p><strong>Nested enumeration access</strong> in MATLAB requires special syntax due to .NET interoperability. As an example, MATLAB uses <code class="docutils literal notranslate"><span class="pre">Registers.System.('AsyncOutputType+Ador').YPR</span></code> while C# uses <code class="docutils literal notranslate"><span class="pre">AsyncOutputType.Ador.YPR</span></code>.</p></li>
</ul>
</section>
<section id="error-handling">
<h3>Error Handling<a class="headerlink" href="#error-handling" title="Link to this heading">¶</a></h3>
<p>Before explaining how to read and write registers, the user should know the differences in handling errors between the two software packages. The VNSDK provides significantly improved error handling compared to the Programming Library through proper .NET exception
management and native C++/CLI interoperability. The Programming Library was unable to catch exceptions through the language barrier, causing a crash on any exception thrown in C++,
regardless of whether it was supposed to be caught in C# or MATLAB. The VNSDK C++ library does not throw exceptions; it instead returns error codes which are propagated to the CLI code and thrown natively in C# or MATLAB. Because of this, all exceptions can be caught as native C# or MATLAB exceptions.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--0-input--1" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--1">C#</label><div class="tab-content docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="c1">// VNSDK</span>
<span class="k">try</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">sensor</span><span class="p">.</span><span class="n">ReadRegister</span><span class="p">(</span><span class="n">modelRegister</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">ex</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&quot;VectorNav Error: {ex.Message&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--0-input--2" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--2">MATLAB</label><div class="tab-content docutils container">
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="c">% VNSDK</span>
<span class="k">try</span>
<span class="w">    </span><span class="n">sensor</span><span class="p">.</span><span class="n">ReadRegister</span><span class="p">(</span><span class="n">modelRegister</span><span class="p">);</span>
<span class="k">catch</span><span class="w"> </span><span class="n">latestError</span>
<span class="w">    </span><span class="nb">error</span><span class="p">(</span><span class="s">&#39;VectorNav Error: %s\n&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">latestError</span><span class="p">.</span><span class="n">message</span><span class="p">);</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="connecting-to-the-unit">
<h3>Connecting to the Unit<a class="headerlink" href="#connecting-to-the-unit" title="Link to this heading">¶</a></h3>
<p>For both software packages, the serial port name is strictly necessary to connect to the unit.
In the VectorNav Programming Library, the baud rate must also be known.
With the VNSDK, there is an option to specify the baud rate using the <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6Sensor7ConnectEP6String8BaudRate" title="VNSDK::Sensor::Connect"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Connect()</span></code></a> method,
but a new <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6Sensor11AutoConnectEP6String" title="VNSDK::Sensor::AutoConnect"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">AutoConnect()</span></code></a> method is also available that will scan the specified port for the unit’s baud rate.</p>
<p>To communicate with the unit, a sensor object must be created before a connection can be established.
In the VectorNav Programming Library this is done by</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--1-input--1" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--1">C#</label><div class="tab-content docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="c1">// VN Programming Library</span>
<span class="kt">var</span><span class="w"> </span><span class="n">vs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">VnSensor</span><span class="p">();</span>
<span class="n">vs</span><span class="p">.</span><span class="n">Connect</span><span class="p">(</span><span class="n">SensorPort</span><span class="p">,</span><span class="w"> </span><span class="n">SensorBaudrate</span><span class="p">);</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--1-input--2" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--2">MATLAB</label><div class="tab-content docutils container">
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="c">% VN Programming Library</span>
<span class="n">ez</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">EzAsyncData</span><span class="p">.</span><span class="n">Connect</span><span class="p">(</span><span class="n">SensorComPort</span><span class="p">,</span><span class="w"> </span><span class="n">SensorBaudRate</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<p>While in the VNSDK, the unit is connected using the <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6Sensor11AutoConnectEP6String" title="VNSDK::Sensor::AutoConnect"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">AutoConnect()</span></code></a> method below:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--2-input--1" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--1">C#</label><div class="tab-content docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="c1">// VNSDK</span>
<span class="n">Sensor</span><span class="w"> </span><span class="n">sensor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Sensor</span><span class="p">();</span>
<span class="n">sensor</span><span class="p">.</span><span class="n">AutoConnect</span><span class="p">(</span><span class="n">portName</span><span class="p">);</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--2-input--2" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--2">MATLAB</label><div class="tab-content docutils container">
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="c">% VNSDK</span>
<span class="n">sensor</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Sensor</span><span class="p">();</span>
<span class="n">sensor</span><span class="p">.</span><span class="n">AutoConnect</span><span class="p">(</span><span class="n">portName</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="accessing-registers">
<h3>Accessing Registers<a class="headerlink" href="#accessing-registers" title="Link to this heading">¶</a></h3>
<p>In the VectorNav Programming Library, a <code class="docutils literal notranslate"><span class="pre">VnSensor</span></code> object is created with each read or write register command as a method of that object.
In the VNSDK, a <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6SensorE" title="VNSDK::Sensor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">Sensor</span></code></a> object is still created for interaction, but the approach is now streamlined to use only two primary methods:
<a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6Sensor12ReadRegisterEPN9Registers14ConfigRegisterE" title="VNSDK::Sensor::ReadRegister"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ReadRegister()</span></code></a> for reading data from <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_registers_1_1_config_register.html#_CPPv4N5VNSDK9Registers14ConfigRegisterE" title="VNSDK::Registers::ConfigRegister"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">ConfigRegister</span></code></a> or <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_registers_1_1_meas_register.html#_CPPv4N5VNSDK9Registers12MeasRegisterE" title="VNSDK::Registers::MeasRegister"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">MeasRegister</span></code></a> objects and <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6Sensor13WriteRegisterEPN9Registers14ConfigRegisterE" title="VNSDK::Sensor::WriteRegister"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">WriteRegister()</span></code></a> for writing data to <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_registers_1_1_config_register.html#_CPPv4N5VNSDK9Registers14ConfigRegisterE" title="VNSDK::Registers::ConfigRegister"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">ConfigRegister</span></code></a> objects.
Each register is now represented as its own managed class (inheriting from <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_registers_1_1_config_register.html#_CPPv4N5VNSDK9Registers14ConfigRegisterE" title="VNSDK::Registers::ConfigRegister"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">ConfigRegister</span></code></a> or <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_registers_1_1_meas_register.html#_CPPv4N5VNSDK9Registers12MeasRegisterE" title="VNSDK::Registers::MeasRegister"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">MeasRegister</span></code></a>) and gets populated
when a <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6Sensor12ReadRegisterEPN9Registers14ConfigRegisterE" title="VNSDK::Sensor::ReadRegister"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ReadRegister()</span></code></a> or <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6Sensor13WriteRegisterEPN9Registers14ConfigRegisterE" title="VNSDK::Sensor::WriteRegister"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">WriteRegister()</span></code></a> request is sent.</p>
<section id="reading-registers">
<h4>Reading Registers<a class="headerlink" href="#reading-registers" title="Link to this heading">¶</a></h4>
<p>Using the Programming Library, the user would create a VnSensor object and call the respective read register method.
For example, the following code reads the <em>Yaw, Pitch, Roll</em> register (Register 8) using the Programming Library.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--3-input--1" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--1">C#</label><div class="tab-content docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="c1">// VN Programming Library</span>
<span class="kt">var</span><span class="w"> </span><span class="n">ypr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vs</span><span class="p">.</span><span class="n">ReadYawPitchRoll</span><span class="p">();</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--3-input--2" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--2">MATLAB</label><div class="tab-content docutils container">
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="c">% VN Programming Library</span>
<span class="n">ez</span><span class="p">.</span><span class="n">Sensor</span><span class="p">.</span><span class="n">ReadYawPitchRoll</span><span class="p">();</span>
</pre></div>
</div>
</div>
</div>
<p>In the VNSDK, the user creates the <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6SensorE" title="VNSDK::Sensor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">Sensor</span></code></a> object and passes a pointer to a Register object they would like to read to the <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6Sensor12ReadRegisterEPN9Registers14ConfigRegisterE" title="VNSDK::Sensor::ReadRegister"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ReadRegister()</span></code></a> method like in the example below:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--4-input--1" name="tab-set--4" type="radio"><label class="tab-label" for="tab-set--4-input--1">C#</label><div class="tab-content docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="c1">// VNSDK</span>
<span class="n">VNSDK</span><span class="p">.</span><span class="n">Registers</span><span class="p">.</span><span class="n">Attitude</span><span class="p">.</span><span class="n">YawPitchRoll</span><span class="w"> </span><span class="n">yprRegister</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">VNSDK</span><span class="p">.</span><span class="n">Registers</span><span class="p">.</span><span class="n">Attitude</span><span class="p">.</span><span class="n">YawPitchRoll</span><span class="p">();</span>
<span class="n">sensor</span><span class="p">.</span><span class="n">ReadRegister</span><span class="p">(</span><span class="n">yprRegister</span><span class="p">);</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--4-input--2" name="tab-set--4" type="radio"><label class="tab-label" for="tab-set--4-input--2">MATLAB</label><div class="tab-content docutils container">
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="c">% VNSDK</span>
<span class="n">modelRegister</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Registers</span><span class="p">.</span><span class="n">System</span><span class="p">.</span><span class="n">Model</span><span class="p">();</span>
<span class="n">sensor</span><span class="p">.</span><span class="n">ReadRegister</span><span class="p">(</span><span class="n">modelRegister</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="writing-registers">
<h4>Writing Registers<a class="headerlink" href="#writing-registers" title="Link to this heading">¶</a></h4>
<p>Writing to a register incorporates the same changes as reading a register.
The following examples show the difference between writing to the Asynchronous Data Output Frequency register (Register 7) in the Programming Library and the VNSDK.
To configure the VectorNav Programming Library to output at the frequency of 2 Hz, the user would create the VnSensor object and then write to the Asynchronous Data Output Frequency register:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--5-input--1" name="tab-set--5" type="radio"><label class="tab-label" for="tab-set--5-input--1">C#</label><div class="tab-content docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="c1">// VN Programming Library</span>
<span class="n">vs</span><span class="p">.</span><span class="n">WriteAsyncDataOutputFrequency</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--5-input--2" name="tab-set--5" type="radio"><label class="tab-label" for="tab-set--5-input--2">MATLAB</label><div class="tab-content docutils container">
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="c">% VN Programming Library</span>
<span class="n">ez</span><span class="p">.</span><span class="n">Sensor</span><span class="p">.</span><span class="n">WriteAsyncDataOutputFrequency</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<p>In the VNSDK, a Register object has to be created and passed to the <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6Sensor13WriteRegisterEPN9Registers14ConfigRegisterE" title="VNSDK::Sensor::WriteRegister"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">WriteRegister()</span></code></a> method, much like reading a register.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--6-input--1" name="tab-set--6" type="radio"><label class="tab-label" for="tab-set--6-input--1">C#</label><div class="tab-content docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="c1">// VNSDK</span>
<span class="n">VNSDK</span><span class="p">.</span><span class="n">Registers</span><span class="p">.</span><span class="n">System</span><span class="p">.</span><span class="n">AsyncOutputFreq</span><span class="w"> </span><span class="n">asyncDataOutputFrequency</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">VNSDK</span><span class="p">.</span><span class="n">Registers</span><span class="p">.</span><span class="n">System</span><span class="p">.</span><span class="n">AsyncOutputFreq</span><span class="p">();</span>
<span class="n">asyncDataOutputFrequency</span><span class="p">.</span><span class="n">adof</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">VNSDK</span><span class="p">.</span><span class="n">Registers</span><span class="p">.</span><span class="n">System</span><span class="p">.</span><span class="n">AsyncOutputFreq</span><span class="p">.</span><span class="n">Adof</span><span class="p">.</span><span class="n">Rate2Hz</span><span class="p">;</span>
<span class="n">asyncDataOutputFrequency</span><span class="p">.</span><span class="n">serialPort</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">VNSDK</span><span class="p">.</span><span class="n">Registers</span><span class="p">.</span><span class="n">System</span><span class="p">.</span><span class="n">AsyncOutputFreq</span><span class="p">.</span><span class="n">SerialPort</span><span class="p">.</span><span class="n">Serial1</span><span class="p">;</span>
<span class="n">sensor</span><span class="p">.</span><span class="n">WriteRegister</span><span class="p">(</span><span class="n">asyncDataOutputFrequency</span><span class="p">);</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--6-input--2" name="tab-set--6" type="radio"><label class="tab-label" for="tab-set--6-input--2">MATLAB</label><div class="tab-content docutils container">
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="c">% VNSDK</span>
<span class="n">asyncDataOutputFrequency</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Registers</span><span class="p">.</span><span class="n">System</span><span class="p">.</span><span class="n">AsyncOutputFreq</span><span class="p">();</span>
<span class="n">asyncDataOutputFrequency</span><span class="p">.</span><span class="n">adof</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Registers</span><span class="p">.</span><span class="n">System</span><span class="p">.(</span><span class="s">&#39;AsyncOutputFreq+Adof&#39;</span><span class="p">).</span><span class="n">Rate2Hz</span><span class="p">;</span>
<span class="n">asyncDataOutputFrequency</span><span class="p">.</span><span class="n">serialPort</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Registers</span><span class="p">.</span><span class="n">System</span><span class="p">.(</span><span class="s">&#39;AsyncOutputFreq+SerialPort&#39;</span><span class="p">).</span><span class="n">Serial1</span><span class="p">;</span>
<span class="n">sensor</span><span class="p">.</span><span class="n">WriteRegister</span><span class="p">(</span><span class="n">asyncDataOutputFrequency</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="extracting-asynchronous-data">
<h3>Extracting Asynchronous Data<a class="headerlink" href="#extracting-asynchronous-data" title="Link to this heading">¶</a></h3>
<p>In the Programming Library, two approaches exist to extract asynchronous measurements: using callbacks to parse and consume a raw packet and using a <code class="docutils literal notranslate"><span class="pre">CompositeData</span></code> object with the <code class="docutils literal notranslate"><span class="pre">EzAsyncData</span></code> class. Because the VNSDK is tightly integrated with its <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_composite_data.html#_CPPv4N5VNSDK13CompositeDataE" title="VNSDK::CompositeData"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">CompositeData</span></code></a> class, this section outlines how to migrate between <code class="docutils literal notranslate"><span class="pre">CompositeData</span></code> classes.</p>
<section id="the-compositedata-class">
<h4>The <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_composite_data.html#_CPPv4N5VNSDK13CompositeDataE" title="VNSDK::CompositeData"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">CompositeData</span></code></a> Class<a class="headerlink" href="#the-compositedata-class" title="Link to this heading">¶</a></h4>
<p>Both the Programming Library and VNSDK provide a <code class="docutils literal notranslate"><span class="pre">CompositeData</span></code> class that are reasonably similar to each other. In both codebases, each <code class="docutils literal notranslate"><span class="pre">CompositeData</span></code> object allocates memory
for every possible measurement output from the unit, optionally containing a subset of those measurements. The Programming Library’s <code class="docutils literal notranslate"><span class="pre">CompositeData</span></code> class maintains public data members, getters, setters, and present booleans. The VNSDK’s <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_composite_data.html#_CPPv4N5VNSDK13CompositeDataE" title="VNSDK::CompositeData"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">CompositeData</span></code></a> only contains public data members, instead opting to report which variables are optionally <code class="docutils literal notranslate"><span class="pre">None</span></code>. In this way, the Programming Library’s <code class="docutils literal notranslate"><span class="pre">CompositeData</span></code> class feels more like a true class, whereas the VNSDK feels more like a data structure.</p>
<p>The first distinction is in organization between the two; the Programming Library’s <code class="docutils literal notranslate"><span class="pre">CompositeData</span></code> contains each measurement type
accessor by getter methods at the top level, whereas the VNSDK’s <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_composite_data.html#_CPPv4N5VNSDK13CompositeDataE" title="VNSDK::CompositeData"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">CompositeData</span></code></a> contains each measurement type directly accessible, organized in their respective
binary groups, as defined by the Interface Control Document (ICD). For example, to access the ypr field in the Programming Library’s <code class="docutils literal notranslate"><span class="pre">CompositeData</span></code> object would be accessed by
<code class="docutils literal notranslate"><span class="pre">cd.YawPitchRoll()</span></code>, whereas using the SDK’s <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_composite_data.html#_CPPv4N5VNSDK13CompositeDataE" title="VNSDK::CompositeData"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">CompositeData</span></code></a> object would be <code class="docutils literal notranslate"><span class="pre">cd.attitude.ypr</span></code>.</p>
<p>The second distinction is in the reporting of updated or nonupdated
measurement types; the Programming Library’s <code class="docutils literal notranslate"><span class="pre">CompositeData</span></code> provides <code class="docutils literal notranslate"><span class="pre">Has</span></code> methods (such as <code class="docutils literal notranslate"><span class="pre">HasYawPitchRoll</span></code>) which return a bool of whether the requested measurement type is present.
The VNSDK’s <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_composite_data.html#_CPPv4N5VNSDK13CompositeDataE" title="VNSDK::CompositeData"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">CompositeData</span></code></a> object natively holds each measurement type inside a <a class="reference external" href="https://docs.microsoft.com/en-us/dotnet/api/system.nullable-1">Nullable&lt;T&gt;</a>
(C#/.NET), eliminating the need for a separate method to check if it is present. For example, the presence of that same ypr measurement in the Programming Library would be validated
by <code class="docutils literal notranslate"><span class="pre">cd.HasYawPitchRoll()</span></code>, whereas in the VNSDK would be validated by <code class="docutils literal notranslate"><span class="pre">cd.attitude.ypr.HasValue</span></code> (C#/.NET). There also are some minor measurement type name changes
(i.e. Programming Library’s <code class="docutils literal notranslate"><span class="pre">YawPitchRoll</span></code> to VNSDK’s <code class="docutils literal notranslate"><span class="pre">ypr</span></code>), where the VNSDK’s <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_composite_data.html#_CPPv4N5VNSDK13CompositeDataE" title="VNSDK::CompositeData"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">CompositeData</span></code></a> naming will always match the latest ICD.</p>
</section>
<section id="compositedata-accessor-methods">
<h4><a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_composite_data.html#_CPPv4N5VNSDK13CompositeDataE" title="VNSDK::CompositeData"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">CompositeData</span></code></a> Accessor Methods<a class="headerlink" href="#compositedata-accessor-methods" title="Link to this heading">¶</a></h4>
<p>The Programming Library’s <code class="docutils literal notranslate"><span class="pre">VnSensor</span></code> class does not natively handle <code class="docutils literal notranslate"><span class="pre">CompositeData</span></code> classes, so a separate class—<cite>EzAsyncData</cite>—has to handle parsing and reporting the objects.
In contrast, the VNSDK’s <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6SensorE" title="VNSDK::Sensor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">Sensor</span></code></a> class natively parses <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_composite_data.html#_CPPv4N5VNSDK13CompositeDataE" title="VNSDK::CompositeData"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">CompositeData</span></code></a> objects and reports them to the user. Both <code class="docutils literal notranslate"><span class="pre">EzAsyncData</span></code> and
<a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6SensorE" title="VNSDK::Sensor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">Sensor</span></code></a> produce exactly one <code class="docutils literal notranslate"><span class="pre">CompositeData</span></code> object per measurement message received from the unit.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">EzAsyncData</span></code> class provides two methods to retrieve data: <code class="docutils literal notranslate"><span class="pre">EzAsyncData::CurrentData</span></code> and <code class="docutils literal notranslate"><span class="pre">EzAsyncData::GetNextData</span></code>; the <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6SensorE" title="VNSDK::Sensor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">Sensor</span></code></a> class provides
<a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6Sensor18GetNextMeasurementEv" title="VNSDK::Sensor::GetNextMeasurement"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetNextMeasurement()</span></code></a> and <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6Sensor24GetMostRecentMeasurementEv" title="VNSDK::Sensor::GetMostRecentMeasurement"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetMostRecentMeasurement()</span></code></a>.
The <code class="docutils literal notranslate"><span class="pre">EzAsyncData</span></code> class maintains only the latest measurement received, whereas the VNSDK maintains a queue of <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_composite_data.html#_CPPv4N5VNSDK13CompositeDataE" title="VNSDK::CompositeData"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">CompositeData</span></code></a> objects. As such, there
are some minor differences between the two codebases to note when accessing <code class="docutils literal notranslate"><span class="pre">CompositeData</span></code> objects.</p>
<p>In most cases—where the polling rate for the latest measurement data exceeds the unit’s measurement output rate—a call to <code class="docutils literal notranslate"><span class="pre">EzAsyncData::CurrentData</span></code> is similar in use
to non-blocking calls of both <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6Sensor18GetNextMeasurementEv" title="VNSDK::Sensor::GetNextMeasurement"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetNextMeasurement()</span></code></a> and <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6Sensor24GetMostRecentMeasurementEv" title="VNSDK::Sensor::GetMostRecentMeasurement"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetMostRecentMeasurement()</span></code></a>.
In these cases, <code class="docutils literal notranslate"><span class="pre">EzAsyncData::CurrentData</span></code> will repeatedly output a <code class="docutils literal notranslate"><span class="pre">CompositeData</span></code> object parsed from the most recent measurement packet, whereas the <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6SensorE" title="VNSDK::Sensor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">Sensor</span></code></a>
methods will output that <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_composite_data.html#_CPPv4N5VNSDK13CompositeDataE" title="VNSDK::CompositeData"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">CompositeData</span></code></a> object only once.
When the polling rate exceeds the output rate, <code class="docutils literal notranslate"><span class="pre">EzAsyncData::NextData</span></code> is nearly identical to a blocking call of both <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6Sensor18GetNextMeasurementEv" title="VNSDK::Sensor::GetNextMeasurement"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetNextMeasurement()</span></code></a> and
<a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6Sensor24GetMostRecentMeasurementEv" title="VNSDK::Sensor::GetMostRecentMeasurement"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetMostRecentMeasurement()</span></code></a>, but should probably be replaced with a blocking call to <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6Sensor24GetMostRecentMeasurementEv" title="VNSDK::Sensor::GetMostRecentMeasurement"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetMostRecentMeasurement()</span></code></a>.</p>
<p>When the user’s measurement polling rate is less than the unit’s measurement output rate, the presence of a <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_composite_data.html#_CPPv4N5VNSDK13CompositeDataE" title="VNSDK::CompositeData"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">CompositeData</span></code></a> queue in the <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6SensorE" title="VNSDK::Sensor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">Sensor</span></code></a>
class is more apparent. In this case, <code class="docutils literal notranslate"><span class="pre">EzAsyncData::CurrentData</span></code> is identical to a non-blocking call of <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6Sensor24GetMostRecentMeasurementEv" title="VNSDK::Sensor::GetMostRecentMeasurement"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetMostRecentMeasurement()</span></code></a>.
While there is no direct analogue to <code class="docutils literal notranslate"><span class="pre">EzAsyncData::NextData</span></code>, it is most similar to a blocking call of <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6Sensor24GetMostRecentMeasurementEv" title="VNSDK::Sensor::GetMostRecentMeasurement"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetMostRecentMeasurement()</span></code></a>, with the exception
that <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6Sensor24GetMostRecentMeasurementEv" title="VNSDK::Sensor::GetMostRecentMeasurement"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetMostRecentMeasurement()</span></code></a> returns immediately if a measurement is present in the queue upon invocation—
<code class="docutils literal notranslate"><span class="pre">EzAsyncData::NextData</span></code> necessarily blocks upon receipt of a measurement subsequent to the invocation.
In this case, <code class="docutils literal notranslate"><span class="pre">EzAsyncData</span></code> drops <code class="docutils literal notranslate"><span class="pre">CompositeData</span></code> objects parsed between polls, whereas <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6SensorE" title="VNSDK::Sensor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">Sensor</span></code></a> maintains all <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_composite_data.html#_CPPv4N5VNSDK13CompositeDataE" title="VNSDK::CompositeData"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">CompositeData</span></code></a> objects parsed
(until the queue capacity is reached).
Consequently, the user can successively read all the measurement packets since their last poll using <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6Sensor18GetNextMeasurementEv" title="VNSDK::Sensor::GetNextMeasurement"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetNextMeasurement()</span></code></a> to prevent data loss.</p>
<p>The syntax to retrieve a <code class="docutils literal notranslate"><span class="pre">CompositeData</span></code> object is slightly different between the two codebases. The <code class="docutils literal notranslate"><span class="pre">EzAsyncData</span></code> methods return a <code class="docutils literal notranslate"><span class="pre">CompositeData</span></code> object by value,
whereas, the <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6SensorE" title="VNSDK::Sensor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">Sensor</span></code></a> methods return a <a class="reference external" href="https://docs.microsoft.com/en-us/dotnet/api/system.nullable-1">Nullable&lt;CompositeData&gt;</a> containing the <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_composite_data.html#_CPPv4N5VNSDK13CompositeDataE" title="VNSDK::CompositeData"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">CompositeData</span></code></a> object of interest.
As such, the <code class="docutils literal notranslate"><span class="pre">EzAsyncData</span></code> methods are guaranteed to return an object, whereas the <a class="reference internal" href="../_api/class_v_n_s_d_k_1_1_sensor.html#_CPPv4N5VNSDK6SensorE" title="VNSDK::Sensor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">Sensor</span></code></a> methods may return a null value if no object currently exists
in the queue or the timeout has been exceeded. In the VectorNav Programming Library we can access <code class="docutils literal notranslate"><span class="pre">CompositeData</span></code> fields as</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--7-input--1" name="tab-set--7" type="radio"><label class="tab-label" for="tab-set--7-input--1">C#</label><div class="tab-content docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="kt">var</span><span class="w"> </span><span class="n">cd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ez</span><span class="p">.</span><span class="n">CurrentData</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">cd</span><span class="p">.</span><span class="n">HasYawPitchRoll</span><span class="p">)</span>
<span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;YPR Unavailable.&quot;</span><span class="p">);</span>
<span class="k">else</span>
<span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Current YPR: {0}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">cd</span><span class="p">.</span><span class="n">YawPitchRoll</span><span class="p">);</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--7-input--2" name="tab-set--7" type="radio"><label class="tab-label" for="tab-set--7-input--2">MATLAB</label><div class="tab-content docutils container">
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="w"> </span><span class="nb">isempty</span><span class="p">(</span><span class="nb">cd</span><span class="p">)</span>
<span class="nb">fprintf</span><span class="p">(</span><span class="s">&#39;No data available.\n&#39;</span><span class="p">)</span>
<span class="k">else</span>
<span class="w">    </span><span class="nb">fprintf</span><span class="p">(</span><span class="s">&#39;YPR: %3.2f %3.2f %3.2f\n&#39;</span><span class="p">,</span><span class="w"> </span><span class="nb">cd</span><span class="p">.</span><span class="n">YawPitchRoll</span><span class="p">.</span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="nb">cd</span><span class="p">.</span><span class="n">YawPitchRoll</span><span class="p">.</span><span class="n">Y</span><span class="p">,</span><span class="w"> </span><span class="nb">cd</span><span class="p">.</span><span class="n">YawPitchRoll</span><span class="p">.</span><span class="w"> </span><span class="n">Z</span><span class="p">);</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
</div>
<p>whereas in the VNSDK they are accessed as</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--8-input--1" name="tab-set--8" type="radio"><label class="tab-label" for="tab-set--8-input--1">C#</label><div class="tab-content docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="c1">// VNSDK</span>
<span class="n">Nullable</span><span class="o">&lt;</span><span class="n">CompositeData</span><span class="o">&gt;</span><span class="w"> </span><span class="n">compositeData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sensor</span><span class="p">.</span><span class="n">GetNextMeasurement</span><span class="p">();</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">compositeData</span><span class="p">.</span><span class="n">HasValue</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">continue</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// safe to access</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">compositeData</span><span class="p">.</span><span class="n">Value</span><span class="p">.</span><span class="n">MatchesMessage</span><span class="p">(</span><span class="s">&quot;VNYPR&quot;</span><span class="p">))</span>
<span class="p">{</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">ypr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">compositeData</span><span class="p">.</span><span class="n">Value</span><span class="p">.</span><span class="n">attitude</span><span class="p">.</span><span class="n">ypr</span><span class="p">.</span><span class="n">Value</span><span class="p">;</span>
<span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&quot;Yaw- {ypr.yaw}, Pitch- {ypr.pitch}, Roll- {ypr.roll}&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--8-input--2" name="tab-set--8" type="radio"><label class="tab-label" for="tab-set--8-input--2">MATLAB</label><div class="tab-content docutils container">
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="c">% VNSDK</span>
<span class="n">compositeData</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">sensor</span><span class="p">.</span><span class="n">GetNextMeasurement</span><span class="p">();</span>
<span class="k">if</span><span class="w"> </span><span class="nb">isempty</span><span class="p">(</span><span class="n">compositeData</span><span class="p">)</span>
<span class="w">    </span><span class="k">continue</span><span class="p">;</span>
<span class="k">end</span>
<span class="k">if</span><span class="w"> </span><span class="n">compositeData</span><span class="p">.</span><span class="n">MatchesMessage</span><span class="p">(</span><span class="s">&quot;VNYPR&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">ypr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">compositeData</span><span class="p">.</span><span class="n">attitude</span><span class="p">.</span><span class="n">ypr</span><span class="p">;</span>
<span class="w">    </span><span class="nb">fprintf</span><span class="p">(</span><span class="s">&#39;Yaw- %.6f, Pitch- %.6f, Roll- %.6f\n&#39;</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">ypr</span><span class="p">.</span><span class="n">yaw</span><span class="p">,</span><span class="w"> </span><span class="n">ypr</span><span class="p">.</span><span class="n">pitch</span><span class="p">,</span><span class="w"> </span><span class="n">ypr</span><span class="p">.</span><span class="n">roll</span><span class="p">);</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="plugin-list">
<h2>Plugin List<a class="headerlink" href="#plugin-list" title="Link to this heading">¶</a></h2>
<section id="firmware-programmer">
<h3>Firmware Programmer<a class="headerlink" href="#firmware-programmer" title="Link to this heading">¶</a></h3>
<p>While this plugin is available in the Programming Library, it has been updated with the issuance of the VNSDK.
The new Firmware Programmer plugin has the ability to accept both <em>VNX</em> and <em>VNXML</em> files, contains significant stability improvements, and has more flexible and simple syntax.
This plugin allows the users to update their unit’s firmware without having to connect it to VectorNav’s GUI, Control Center, or creating their own embedded updater.
All firmware updates must be performed over the main port, UART-1, and communication must be established before an update can occur.
More information on this plugin can be found in the <a class="reference internal" href="../plugins/FirmwareProgrammer.html#clifirmwareprogrammerpage"><span class="std std-ref">Firmware Programmer</span></a> section.</p>
</section>
<section id="register-scan">
<h3>Register Scan<a class="headerlink" href="#register-scan" title="Link to this heading">¶</a></h3>
<p>The Register Scan plugin is a newly added plugin unique to the VNSDK.
This plugin is capable of producing an XML or text file containing the non-default registers on the unit, or uploading an XML or text file of register values to the unit. It is similar to and interoperable with the “Save Config” and “Load Config” buttons on Control Center.
Additional information can be found on the <a class="reference internal" href="../plugins/RegisterScan.html#cliregisterscanpage"><span class="std std-ref">Register Scan</span></a> page.</p>
</section>
<section id="logger">
<h3>Logger<a class="headerlink" href="#logger" title="Link to this heading">¶</a></h3>
<p>The Logger plugin allows users to easily log all bytes received from the unit to a binary file without the need to parse the packets.
The Programming Library did not have any native capability to do this, and was most often accomplished by custom code utilizing the <cite>RawDataReceivedHandler</cite>.
More information on this plugin can be found in the <a class="reference internal" href="../plugins/Logger.html#cliloggerpage"><span class="std std-ref">Logger</span></a> section.</p>
</section>
<section id="data-export">
<h3>Data Export<a class="headerlink" href="#data-export" title="Link to this heading">¶</a></h3>
<p>The Data Export plugin can export data into formats such as a <em>CSV</em>, <em>TXT</em>, or <em>RINEX</em> file.
The plugin can handle data from either previously logged binary files or data directly from a VectorNav unit.
Additionally, it can handle outputting to multiple different formats at once.
More information on this plugin can be found in the <a class="reference internal" href="../plugins/DataExport.html#clidataexportpage"><span class="std std-ref">Data Export (BETA)</span></a> section.</p>
</section>
<section id="math">
<h3>Math<a class="headerlink" href="#math" title="Link to this heading">¶</a></h3>
<p>The Math plugin expands upon the Programming Library’s previous vector and matrix math by also including data conversions and expanded linear algebra functions.
More information on this plugin can be found in the <a class="reference internal" href="../plugins/Math.html#climathpage"><span class="std std-ref">Math (BETA)</span></a> section.</p>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
<div class="sphinx-toc sphinxglobaltoc">
<h3><a href="../Documentation.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Migration Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#notable-changes-and-features">Notable Changes and Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="#migrating-from-the-vectornav-programming-library-to-the-vnsdk">Migrating from the VectorNav Programming Library to the VNSDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plugin-list">Plugin List</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="KeyFunctionality.html">Key Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_index.html">VNSDK API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Plugins</a></li>
</ul>
</div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="../Documentation.html"
                          title="Previous page">&larr; VectorNav CLI SDK</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="GettingStarted.html"
                          title="Next page">&rarr; Getting Started</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/pages/MigrationGuide.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="GettingStarted.html" title="Getting Started"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="../Documentation.html" title="VectorNav CLI SDK"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="../Documentation.html">VectorNav SDK 0.22.0 documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Migration Guide</a></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
    &#169; Copyright 2024, VectorNav Technologies.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>