

<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Register Scan &#8212; VectorNav SDK 0.22.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/cloud.css?v=36acb9b5" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=a6d58504" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noticia+Text:400,i,b,bi|Open+Sans:400,i,b,bi|Roboto+Mono:400,i,b,bi&amp;display=swap" type="text/css" />
    
    <script src="../_static/documentation_options.js?v=5686f5df"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/tabs.js?v=3ee01567"></script>

    
    
     
        <script src="../_static/jquery.cookie.js"></script>
    

    
     
        <script src="../_static/cloud.base.js"></script>
    

    
     
        <script src="../_static/cloud.js"></script>
    

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Math (BETA)" href="math.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="math.html" title="Math (BETA)"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="../Documentation.html">VectorNav SDK 0.22.0 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Plugins</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Register Scan</a></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="register-scan">
<span id="pythonregisterscanpage"></span><h1>Register Scan<a class="headerlink" href="#register-scan" title="Link to this heading">¶</a></h1>
<p>The Register Scan plugin provides functionality to load a previously saved configuration file onto a VectorNav unit or to save the current configuration of a VectorNav unit into a configuration file. It can save any subset of configuration registers, and can optionally save only user-edited values. It contains prewritten methods to work with XML files (which are interoperable with Control Center) and ASCII files.</p>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Link to this heading">¶</a></h2>
<p>The VNSDK provides three different examples demonstrating use of the Register Scan plugin: Load Configuration, Save Configuration, and Save Non-Default Configuration. The Load Configuration example details how to upload a previously saved configuration file to a VectorNav unit. The Save Configuration example shows how to save all the configuration settings from the unit to a file. The Save Non-Default Configuration example walks through how to save only the registers that have been changed from the factory default settings to a file.</p>
<p>As demonstrated in each of the Register Scan examples, to use the Register Scan plugin it is first necessary to import all required modules:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">vectornav</span><span class="w"> </span><span class="kn">import</span> <span class="n">Sensor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">vectornav.Plugins</span><span class="w"> </span><span class="kn">import</span> <span class="n">RegisterScan</span>
</pre></div>
</div>
<p>Next, create a <a class="reference internal" href="../api/sensor_api.html#vectornav.Sensor" title="vectornav.Sensor"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sensor</span></code></a> object and connect to the VectorNav unit, such as by using the <a class="reference internal" href="../api/sensor_api.html#vectornav.Sensor.autoConnect" title="vectornav.Sensor.autoConnect"><code class="xref py py-func docutils literal notranslate"><span class="pre">autoConnect()</span></code></a> method.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sensor</span> <span class="o">=</span> <span class="n">Sensor</span><span class="p">()</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">sensor</span><span class="o">.</span><span class="n">autoConnect</span><span class="p">(</span><span class="n">portName</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>  <span class="c1"># enables throwing from async error monitoring thread</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">latestError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="n">latestError</span><span class="si">}</span><span class="s2"> encountered when connecting to </span><span class="si">{</span><span class="n">portName</span><span class="si">}</span><span class="s2">.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Connected to </span><span class="si">{</span><span class="n">portName</span><span class="si">}</span><span class="s2"> at </span><span class="si">{</span><span class="n">sensor</span><span class="o">.</span><span class="n">connectedBaudRate</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<section id="loading-a-configuration-file">
<h3>Loading a Configuration File<a class="headerlink" href="#loading-a-configuration-file" title="Link to this heading">¶</a></h3>
<p>To load a previously saved configuration file onto a VectorNav unit using the Register Scan plugin, a configuration reader object that corresponds to the upload file type should be created. For example, to upload a previously saved XML configuration file to a VectorNav unit, a <code class="xref py py-class docutils literal notranslate"><span class="pre">RegisterScan.XmlConfigReader</span></code> object should be created.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">configReader</span> <span class="o">=</span> <span class="n">RegisterScan</span><span class="o">.</span><span class="n">XmlConfigReader</span><span class="p">(</span><span class="n">filePath</span><span class="p">)</span>
</pre></div>
</div>
<p>Alternatively, to upload a previously saved text file of configuration settings onto a VectorNav unit, a <code class="xref py py-class docutils literal notranslate"><span class="pre">RegisterScan.AsciiConfigReader</span></code> object should be created instead.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">configReader</span> <span class="o">=</span> <span class="n">RegisterScan</span><span class="o">.</span><span class="n">AsciiConfigReader</span><span class="p">(</span><span class="n">filePath</span><span class="p">)</span>
</pre></div>
</div>
<p>Once the configuration reader object has been created, it should be passed to the <code class="xref py py-func docutils literal notranslate"><span class="pre">RegisterScan.loadConfiguration()</span></code> method along with the <a class="reference internal" href="../api/sensor_api.html#vectornav.Sensor" title="vectornav.Sensor"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sensor</span></code></a> object as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">RegisterScan</span><span class="o">.</span><span class="n">loadConfiguration</span><span class="p">(</span><span class="n">sensor</span><span class="p">,</span> <span class="n">configReader</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The <code class="xref py py-func docutils literal notranslate"><span class="pre">RegisterScan.loadConfiguration()</span></code> method will first issue a Restore Factory Settings command to the VectorNav unit before attempting to load the user-defined configuration settings onto the unit. This means any previously configured settings on the unit that were not captured in the configuration file will be lost and only the settings included in the configuration file will be configured on the unit. If performing a Restore Factory Settings command is not desired, the <code class="xref py py-func docutils literal notranslate"><span class="pre">RegisterScan.setConfigurationRegisters()</span></code> method should instead be used to load the user-defined settings onto the unit.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">RegisterScan</span><span class="o">.</span><span class="n">setConfigurationRegisters</span><span class="p">(</span><span class="n">vnSensor</span><span class="p">,</span> <span class="n">configReader</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>After loading the settings from a previously saved configuration file onto a VectorNav unit, the <code class="xref py py-func docutils literal notranslate"><span class="pre">RegisterScan.loadConfiguration()</span></code> method issues a Write Settings command followed by a Reset command to the unit. This ensures all configured settings are saved to the non-volatile memory of the unit and starts the unit up fresh with the configured settings.</p>
</div>
</section>
<section id="saving-a-configuration-file">
<h3>Saving a Configuration File<a class="headerlink" href="#saving-a-configuration-file" title="Link to this heading">¶</a></h3>
<p>In many cases, it is useful to have the current configuration of a VectorNav unit, such as to confirm that the desired settings have been applied to the sensor or to configure multiple sensors with the same configuration settings. The <code class="xref py py-func docutils literal notranslate"><span class="pre">RegisterScan.saveConfiguration()</span></code> method within the Register Scan plugin allows the user to save the current values of all configuration registers on a unit into a configuration file. To do so, a configuration writer object that corresponds to the desired output file type should be created. For example, to save the current configuration into an XML file, a <code class="xref py py-class docutils literal notranslate"><span class="pre">RegisterScan.XmlConfigWriter</span></code> object should be created.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">configWriter</span> <span class="o">=</span> <span class="n">RegisterScan</span><span class="o">.</span><span class="n">XmlConfigWriter</span><span class="p">(</span><span class="n">sensor</span><span class="p">,</span> <span class="n">filePath</span><span class="p">)</span>
</pre></div>
</div>
<p>Alternatively, to save a configuration file into a text file, a <code class="xref py py-class docutils literal notranslate"><span class="pre">RegisterScan.AsciiConfigWriter</span></code> object should be created.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">configWriter</span> <span class="o">=</span> <span class="n">RegisterScan</span><span class="o">.</span><span class="n">AsciiConfigWriter</span><span class="p">(</span><span class="n">filePath</span><span class="p">)</span>
</pre></div>
</div>
<p>Once the configuration writer object has been created, it should be passed to the <code class="xref py py-func docutils literal notranslate"><span class="pre">RegisterScan.saveConfiguration()</span></code> method along with the <a class="reference internal" href="../api/sensor_api.html#vectornav.Sensor" title="vectornav.Sensor"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sensor</span></code></a> object as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">RegisterScan</span><span class="o">.</span><span class="n">saveConfiguration</span><span class="p">(</span><span class="n">sensor</span><span class="p">,</span> <span class="n">configWriter</span><span class="p">)</span>
</pre></div>
</div>
<p>The user can also optionally pass a custom filter to the <code class="xref py py-func docutils literal notranslate"><span class="pre">RegisterScan.saveConfiguration()</span></code> method to specify which registers to include or exclude when saving the configuration. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">registerFilter</span> <span class="o">=</span> <span class="n">RegisterScan</span><span class="o">.</span><span class="n">SaveConfigurationFilter</span><span class="p">()</span>
<span class="n">registerFilter</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">RegisterScan</span><span class="o">.</span><span class="n">SaveConfigFilterType</span><span class="o">.</span><span class="n">Include</span>
<span class="n">registerFilter</span><span class="o">.</span><span class="n">list</span> <span class="o">=</span> <span class="n">RegisterScan</span><span class="o">.</span><span class="n">getDefaultConfigRegisters</span><span class="p">()</span>

<span class="n">RegisterScan</span><span class="o">.</span><span class="n">saveConfiguration</span><span class="p">(</span><span class="n">vnSensor</span><span class="p">,</span> <span class="n">writer</span><span class="p">,</span> <span class="n">registerFilter</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="saving-a-non-default-configuration-file">
<h3>Saving a Non-Default Configuration File<a class="headerlink" href="#saving-a-non-default-configuration-file" title="Link to this heading">¶</a></h3>
<p>While calling the <code class="xref py py-func docutils literal notranslate"><span class="pre">RegisterScan.saveConfiguration()</span></code> method saves the current configuration settings on the VectorNav unit, the output configuration file from this method contains the values of all configuration settings on the sensor, even those that were not modified by the user and remained at the factory default values. The <code class="xref py py-func docutils literal notranslate"><span class="pre">RegisterScan.saveNonDefaultConfiguration()</span></code> method within the Register Scan plugin allows the user to save only the configuration settings on the unit that differ from the factory default values. This creates a more concise configuration file that contains only the changes made by the user, allowing the user to more easily confirm that the desired settings were applied to the unit. It is also particularly useful when transferring configurations between multiple devices, as it only transfers the necessary changes rather than the entire configuration.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>As part of the <code class="xref py py-func docutils literal notranslate"><span class="pre">RegisterScan.saveNonDefaultConfiguration()</span></code> method, a Restore Factory Settings command will be issued to the VectorNav unit. When using this method, it is highly recommended to monitor the progress of this call as any errors encountered could mean that the settings previously configured were not able to be reapplied onto the unit. If performing a Restore Factory Settings command is not desired, the <code class="xref py py-func docutils literal notranslate"><span class="pre">RegisterScan.saveConfiguration()</span></code> method should instead be used to save the current configuration of a VectorNav unit.</p>
</div>
<p>To save the current non-default configuration into an XML file, a <code class="xref py py-class docutils literal notranslate"><span class="pre">RegisterScan.XmlConfigWriter</span></code> object should be created.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">configWriter</span> <span class="o">=</span> <span class="n">RegisterScan</span><span class="o">.</span><span class="n">XmlConfigWriter</span><span class="p">(</span><span class="n">sensor</span><span class="p">,</span> <span class="n">filePath</span><span class="p">)</span>
</pre></div>
</div>
<p>Alternatively, to save a non-default configuration file into a text file format, a <code class="xref py py-class docutils literal notranslate"><span class="pre">RegisterScan.AsciiConfigWriter</span></code> object
should be created.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">configWriter</span> <span class="o">=</span> <span class="n">RegisterScan</span><span class="o">.</span><span class="n">AsciiConfigWriter</span><span class="p">(</span><span class="n">filePath</span><span class="p">)</span>
</pre></div>
</div>
<p>Once the configuration writer object has been created, it should be passed to the <code class="xref py py-func docutils literal notranslate"><span class="pre">RegisterScan.saveNonDefaultConfiguration()</span></code> method along with the <a class="reference internal" href="../api/sensor_api.html#vectornav.Sensor" title="vectornav.Sensor"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sensor</span></code></a> object as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">RegisterScan</span><span class="o">.</span><span class="n">saveNonDefaultConfiguration</span><span class="p">(</span><span class="n">sensor</span><span class="p">,</span> <span class="n">configWriter</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="api">
<h2>API<a class="headerlink" href="#api" title="Link to this heading">¶</a></h2>
<p>The Python API for the Register Scan plugin is modeled from the C++ API which can be found here:
<a class="reference external" href="../../../cpp/documentation/_api/namespace_VN__RegisterScan.html#namespace-vn-registerscan" title="(in VectorNav SDK)"><span class="xref std std-ref">RegisterScan</span></a></p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<div class="sphinx-toc sphinxglobaltoc">
<h3><a href="../Documentation.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../pages/migration_guide.html">Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/key_functionality.html">Key Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/advanced_functionality.html">Advanced Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">VNSDK API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Plugins</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="calibration.html">Calibration (<em>BETA</em>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_export.html">Data Export (<em>BETA</em>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="firmware_programmer.html">Firmware Programmer</a></li>
<li class="toctree-l2"><a class="reference internal" href="logger.html">Logger</a></li>
<li class="toctree-l2"><a class="reference internal" href="math.html">Math (<em>BETA</em>)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Register Scan</a></li>
</ul>
</li>
</ul>
</div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="math.html"
                          title="Previous page">&larr; Math (<em>BETA</em>)</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/plugins/register_scan.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="math.html" title="Math (BETA)"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="../Documentation.html">VectorNav SDK 0.22.0 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" >Plugins</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Register Scan</a></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
    &#169; Copyright 2024, VectorNav Technologies.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>