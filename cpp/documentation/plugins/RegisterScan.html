

<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Register Scan &#8212; VectorNav SDK 0.22.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/cloud.css?v=36acb9b5" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../_static/collapsible-lists\css\tree_view.css?v=a885cde7" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=a6d58504" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noticia+Text:400,i,b,bi|Open+Sans:400,i,b,bi|Roboto+Mono:400,i,b,bi&amp;display=swap" type="text/css" />
    
    <script src="../_static/documentation_options.js?v=5686f5df"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/tabs.js?v=3ee01567"></script>
    <script src="../_static/collapsible-lists\js\CollapsibleLists.compressed.js?v=73120307"></script>
    <script src="../_static/collapsible-lists\js\apply-collapsible-lists.js?v=660e4f45"></script>

    
    
     
        <script src="../_static/jquery.cookie.js"></script>
    

    
     
        <script src="../_static/cloud.base.js"></script>
    

    
     
        <script src="../_static/cloud.js"></script>
    

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ROS2" href="Ros2.html" />
    <link rel="prev" title="Math" href="Math.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Ros2.html" title="ROS2"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="Math.html" title="Math"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="../Documentation.html">VectorNav SDK 0.22.0 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Plugins</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Register Scan</a></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="register-scan">
<span id="cppregisterscanpage"></span><h1>Register Scan<a class="headerlink" href="#register-scan" title="Link to this heading">¶</a></h1>
<p>The Register Scan plugin provides functionality to load a previously saved configuration file onto a VectorNav unit or to save the current configuration of a VectorNav unit into a configuration file. It can save any subset of configuration registers, and can optionally save only user-edited values. It contains prewritten methods to work with XML files (which are interoperable with Control Center) and ASCII files, or it can accept any runtime, user-defined format.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Register Scan plugin makes use of abstract template interfaces, <a class="reference internal" href="../_api/struct_v_n_1_1_register_scan_1_1_config_reader.html#_CPPv4I0EN2VN12RegisterScan12ConfigReaderE" title="VN::RegisterScan::ConfigReader"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">ConfigReader</span></code></a> and <a class="reference internal" href="../_api/struct_v_n_1_1_register_scan_1_1_config_writer.html#_CPPv4I0EN2VN12RegisterScan12ConfigWriterE" title="VN::RegisterScan::ConfigWriter"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">ConfigWriter</span></code></a>, to establish a consistent protocol for accessing and storing sensor configurations while supporting multiple file formats and custom implementation strategies.</p>
</div>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Link to this heading">¶</a></h2>
<p>The VNSDK provides three different examples demonstrating use of the Register Scan plugin: Load Configuration, Save Configuration, and Save Non-Default Configuration. The Load Configuration example details how to upload a previously saved configuration file to a VectorNav unit. The Save Configuration example shows how to save all the configuration settings from the unit to a file. The Save Non-Default Configuration example walks through how to save only the registers that have been changed from the factory default settings to a file.</p>
<p>As demonstrated in each of the Register Scan examples, to use the Register Scan plugin it is first necessary to create a <a class="reference internal" href="../_api/class_v_n_1_1_sensor.html#_CPPv4N2VN6SensorE" title="VN::Sensor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">Sensor</span></code></a> object and connect to the VectorNav unit using the <a class="reference internal" href="../_api/class_v_n_1_1_sensor.html#_CPPv4N2VN6Sensor11autoConnectERKN11Serial_Base8PortNameE" title="VN::Sensor::autoConnect"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">autoConnect()</span></code></a> method.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">Sensor</span><span class="w"> </span><span class="n">sensor</span><span class="p">;</span>
<span class="n">Error</span><span class="w"> </span><span class="n">latestError</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sensor</span><span class="p">.</span><span class="n">autoConnect</span><span class="p">(</span><span class="n">portName</span><span class="p">);</span>
</pre></div>
</div>
<section id="loading-a-configuration-file">
<h3>Loading a Configuration File<a class="headerlink" href="#loading-a-configuration-file" title="Link to this heading">¶</a></h3>
<p>To load a previously saved configuration file onto a VectorNav unit using the Register Scan plugin, a <a class="reference internal" href="../_api/struct_v_n_1_1_register_scan_1_1_config_reader.html#_CPPv4I0EN2VN12RegisterScan12ConfigReaderE" title="VN::RegisterScan::ConfigReader"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">ConfigReader</span></code></a> object that corresponds to the upload file type should be created. For example, to upload a previously saved XML configuration file to a VectorNav unit, an <a class="reference internal" href="../_api/class_v_n_1_1_register_scan_1_1_xml_config_reader.html#_CPPv4N2VN12RegisterScan15XmlConfigReaderE" title="VN::RegisterScan::XmlConfigReader"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">XmlConfigReader</span></code></a> object should be created.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">RegisterScan</span><span class="o">::</span><span class="n">XmlConfigReader</span><span class="w"> </span><span class="nf">configReader</span><span class="p">(</span><span class="n">filePath</span><span class="p">.</span><span class="n">string</span><span class="p">());</span>
</pre></div>
</div>
<p>Alternatively, to upload a previously saved text file of configuration settings onto a VectorNav unit, an <a class="reference internal" href="../_api/class_v_n_1_1_register_scan_1_1_ascii_config_reader.html#_CPPv4N2VN12RegisterScan17AsciiConfigReaderE" title="VN::RegisterScan::AsciiConfigReader"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">AsciiConfigReader</span></code></a> object should be created instead.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">RegisterScan</span><span class="o">::</span><span class="n">AsciiConfigReader</span><span class="w"> </span><span class="nf">configReader</span><span class="p">(</span><span class="n">filePath</span><span class="p">.</span><span class="n">string</span><span class="p">());</span>
</pre></div>
</div>
<p>The Register Scan plugin can also upload any user-defined configuration settings to the VectorNav unit. To do this, define the ASCII messages and create a <a class="reference internal" href="../_api/class_v_n_1_1_register_scan_1_1_generic_config_reader.html#_CPPv4N2VN12RegisterScan19GenericConfigReaderE" title="VN::RegisterScan::GenericConfigReader"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">GenericConfigReader</span></code></a> object. For example:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">messageCount</span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">AsciiMessage</span><span class="o">&gt;</span><span class="w"> </span><span class="n">messages</span><span class="p">{</span><span class="s">&quot;$VNRRG,06,1,1*0865&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;$VNRRG,07,1,1*A234&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;$VNRRG,75,3,400,01,0321*3B31&quot;</span><span class="p">};</span>
<span class="n">RegisterScan</span><span class="o">::</span><span class="n">GenericConfigReader</span><span class="w"> </span><span class="nf">configReader</span><span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="o">&amp;</span><span class="n">messages</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">messageCount</span><span class="p">](</span><span class="n">AsciiMessage</span><span class="o">&amp;</span><span class="w"> </span><span class="n">msg</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">messageCount</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">messages</span><span class="p">.</span><span class="n">size</span><span class="p">())</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">messages</span><span class="p">[</span><span class="n">messageCount</span><span class="p">];</span>
<span class="w">            </span><span class="n">messageCount</span><span class="o">++</span><span class="p">;</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">Error</span><span class="o">::</span><span class="n">None</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">Error</span><span class="o">::</span><span class="n">FileReadFailed</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">});</span>
</pre></div>
</div>
<p>Once the <a class="reference internal" href="../_api/struct_v_n_1_1_register_scan_1_1_config_reader.html#_CPPv4I0EN2VN12RegisterScan12ConfigReaderE" title="VN::RegisterScan::ConfigReader"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">ConfigReader</span></code></a> object has been created, it should be passed to the <a class="reference internal" href="../_api/function__register_scan_8hpp_1a8ea63d152ed74be73eea2db46bb6576d.html#_CPPv4I0EN2VN12RegisterScan17loadConfigurationE5ErrorR6SensorR12ConfigReaderI1TE" title="VN::RegisterScan::loadConfiguration"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">loadConfiguration()</span></code></a> method along with the <a class="reference internal" href="../_api/class_v_n_1_1_sensor.html#_CPPv4N2VN6SensorE" title="VN::Sensor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">Sensor</span></code></a> object as follows:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RegisterScan</span><span class="o">::</span><span class="n">loadConfiguration</span><span class="p">(</span><span class="n">sensor</span><span class="p">,</span><span class="w"> </span><span class="n">configReader</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The <a class="reference internal" href="../_api/function__register_scan_8hpp_1a8ea63d152ed74be73eea2db46bb6576d.html#_CPPv4I0EN2VN12RegisterScan17loadConfigurationE5ErrorR6SensorR12ConfigReaderI1TE" title="VN::RegisterScan::loadConfiguration"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">loadConfiguration()</span></code></a> method will first issue a Restore Factory Settings command to the VectorNav unit before attempting to load the user-defined configuration settings onto the unit. This means any previously configured settings on the unit that were not captured in the configuration file will be lost and only the settings included in the configuration file will be configured on the unit. If performing a Restore Factory Settings command is not desired, the <a class="reference internal" href="../_api/function__register_scan_8hpp_1abc82879cd9ed8fd3ab9f12bbcbc736da.html#_CPPv4I0EN2VN12RegisterScan25setConfigurationRegistersE5ErrorR6SensorR12ConfigReaderI1TE" title="VN::RegisterScan::setConfigurationRegisters"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">setConfigurationRegisters()</span></code></a> method should instead be used to load the user-defined settings onto the unit.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RegisterScan</span><span class="o">::</span><span class="n">setConfigurationRegisters</span><span class="p">(</span><span class="n">sensor</span><span class="p">,</span><span class="w"> </span><span class="n">configReader</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>After loading the settings from a previously saved configuration file onto a VectorNav unit, the <a class="reference internal" href="../_api/function__register_scan_8hpp_1a8ea63d152ed74be73eea2db46bb6576d.html#_CPPv4I0EN2VN12RegisterScan17loadConfigurationE5ErrorR6SensorR12ConfigReaderI1TE" title="VN::RegisterScan::loadConfiguration"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">loadConfiguration()</span></code></a> method issues a Write Settings command followed by a Reset command to the unit. This ensures all configured settings are saved to the non-volatile memory of the unit and starts the unit up fresh with the configured settings.</p>
</div>
</section>
<section id="saving-a-configuration-file">
<h3>Saving a Configuration File<a class="headerlink" href="#saving-a-configuration-file" title="Link to this heading">¶</a></h3>
<p>In many cases, it is useful to have the current configuration of a VectorNav unit, such as to confirm that the desired settings have been applied to the sensor or to configure multiple sensors with the same configuration settings. The <a class="reference internal" href="../_api/function__register_scan_8hpp_1a81ba422d9d1842165cf4bce310cc79a0.html#_CPPv4I0EN2VN12RegisterScan17saveConfigurationE5ErrorR6SensorR12ConfigWriterI1TE23SaveConfigurationFilter" title="VN::RegisterScan::saveConfiguration"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">saveConfiguration()</span></code></a> method within the Register Scan plugin allows the user to save the current values of all configuration registers on a unit into a configuration file. To do so, a <a class="reference internal" href="../_api/struct_v_n_1_1_register_scan_1_1_config_writer.html#_CPPv4I0EN2VN12RegisterScan12ConfigWriterE" title="VN::RegisterScan::ConfigWriter"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">ConfigWriter</span></code></a> object that corresponds to the desired output file type should be created. For example, to save the current configuration into an XML file, an <a class="reference internal" href="../_api/class_v_n_1_1_register_scan_1_1_xml_config_writer.html#_CPPv4N2VN12RegisterScan15XmlConfigWriterE" title="VN::RegisterScan::XmlConfigWriter"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">XmlConfigWriter</span></code></a> object should be created.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">RegisterScan</span><span class="o">::</span><span class="n">XmlConfigWriter</span><span class="w"> </span><span class="nf">writer</span><span class="p">(</span><span class="n">sensor</span><span class="p">,</span><span class="w"> </span><span class="n">filePath</span><span class="p">.</span><span class="n">string</span><span class="p">());</span>
</pre></div>
</div>
<p>Alternatively, to save a configuration file into a text file, an <a class="reference internal" href="../_api/class_v_n_1_1_register_scan_1_1_ascii_config_writer.html#_CPPv4N2VN12RegisterScan17AsciiConfigWriterE" title="VN::RegisterScan::AsciiConfigWriter"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">AsciiConfigWriter</span></code></a> object should be created.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">RegisterScan</span><span class="o">::</span><span class="n">AsciiConfigWriter</span><span class="w"> </span><span class="nf">writer</span><span class="p">(</span><span class="n">filePath</span><span class="p">.</span><span class="n">string</span><span class="p">());</span>
</pre></div>
</div>
<p>For custom configuration output handling, a <a class="reference internal" href="../_api/class_v_n_1_1_register_scan_1_1_generic_config_writer.html#_CPPv4N2VN12RegisterScan19GenericConfigWriterE" title="VN::RegisterScan::GenericConfigWriter"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">GenericConfigWriter</span></code></a> object can be implemented.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">RegisterScan</span><span class="o">::</span><span class="n">GenericConfigWriter</span><span class="w"> </span><span class="nf">cout_writer</span><span class="p">(</span>
<span class="w">    </span><span class="p">[](</span><span class="k">const</span><span class="w"> </span><span class="n">AsciiMessage</span><span class="o">&amp;</span><span class="w"> </span><span class="n">msg</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">msg</span><span class="p">.</span><span class="n">c_str</span><span class="p">();</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Error</span><span class="o">::</span><span class="n">None</span><span class="p">;</span>
<span class="w">    </span><span class="p">});</span>
</pre></div>
</div>
<p>Once the <a class="reference internal" href="../_api/struct_v_n_1_1_register_scan_1_1_config_writer.html#_CPPv4I0EN2VN12RegisterScan12ConfigWriterE" title="VN::RegisterScan::ConfigWriter"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">ConfigWriter</span></code></a> object has been created, it should be passed to the <a class="reference internal" href="../_api/function__register_scan_8hpp_1a81ba422d9d1842165cf4bce310cc79a0.html#_CPPv4I0EN2VN12RegisterScan17saveConfigurationE5ErrorR6SensorR12ConfigWriterI1TE23SaveConfigurationFilter" title="VN::RegisterScan::saveConfiguration"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">saveConfiguration()</span></code></a> method along with the <a class="reference internal" href="../_api/class_v_n_1_1_sensor.html#_CPPv4N2VN6SensorE" title="VN::Sensor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">Sensor</span></code></a> object as follows:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">saveConfigError</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RegisterScan</span><span class="o">::</span><span class="n">saveConfiguration</span><span class="p">(</span><span class="n">sensor</span><span class="p">,</span><span class="w"> </span><span class="n">writer</span><span class="p">);</span>
</pre></div>
</div>
<p>The user can also optionally pass a custom filter to the <a class="reference internal" href="../_api/function__register_scan_8hpp_1a81ba422d9d1842165cf4bce310cc79a0.html#_CPPv4I0EN2VN12RegisterScan17saveConfigurationE5ErrorR6SensorR12ConfigWriterI1TE23SaveConfigurationFilter" title="VN::RegisterScan::saveConfiguration"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">saveConfiguration()</span></code></a> method to specify which registers to include or exclude when saving the configuration. For example:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">auto</span><span class="w"> </span><span class="n">configRegisters</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RegisterScan</span><span class="o">::</span><span class="n">getDefaultConfigRegisters</span><span class="p">();</span>
<span class="n">RegisterScan</span><span class="o">::</span><span class="n">SaveConfigurationFilter</span><span class="w"> </span><span class="n">filter</span><span class="p">{</span><span class="n">RegisterScan</span><span class="o">::</span><span class="n">SaveConfigurationFilter</span><span class="o">::</span><span class="n">Type</span><span class="o">::</span><span class="n">Include</span><span class="p">,</span><span class="w"> </span><span class="n">configRegisters</span><span class="p">};</span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">saveConfigError</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RegisterScan</span><span class="o">::</span><span class="n">saveConfiguration</span><span class="p">(</span><span class="n">sensor</span><span class="p">,</span><span class="w"> </span><span class="n">cout_writer</span><span class="p">,</span><span class="w"> </span><span class="n">filter</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="saving-a-non-default-configuration-file">
<h3>Saving a Non-Default Configuration File<a class="headerlink" href="#saving-a-non-default-configuration-file" title="Link to this heading">¶</a></h3>
<p>While calling the <a class="reference internal" href="../_api/function__register_scan_8hpp_1a81ba422d9d1842165cf4bce310cc79a0.html#_CPPv4I0EN2VN12RegisterScan17saveConfigurationE5ErrorR6SensorR12ConfigWriterI1TE23SaveConfigurationFilter" title="VN::RegisterScan::saveConfiguration"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">saveConfiguration()</span></code></a> method saves the current configuration settings on the VectorNav unit, the output configuration file from this method contains the values of all configuration settings on the sensor, even those that were not modified by the user and remained at the factory default values. The <a class="reference internal" href="../_api/function__register_scan_8hpp_1ae9054ac7d2a225757084411e6d8635d0.html#_CPPv4I0EN2VN12RegisterScan27saveNonDefaultConfigurationE5ErrorR6SensorR12ConfigWriterI1TE" title="VN::RegisterScan::saveNonDefaultConfiguration"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">saveNonDefaultConfiguration()</span></code></a> method within the Register Scan plugin allows the user to save only the configuration settings on the unit that differ from the factory default values. This creates a more concise configuration file that contains only the changes made by the user, allowing the user to more easily confirm that the desired settings were applied to the unit. It is also particularly useful when transferring configurations between multiple devices, as it only transfers the necessary changes rather than the entire configuration.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>As part of the <a class="reference internal" href="../_api/function__register_scan_8hpp_1ae9054ac7d2a225757084411e6d8635d0.html#_CPPv4I0EN2VN12RegisterScan27saveNonDefaultConfigurationE5ErrorR6SensorR12ConfigWriterI1TE" title="VN::RegisterScan::saveNonDefaultConfiguration"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">saveNonDefaultConfiguration()</span></code></a> method, a Restore Factory Settings command will be issued to the VectorNav unit. When using this method, it is highly recommended to monitor the progress of this call as any errors encountered could mean that the settings previously configured were not able to be reapplied onto the unit. If performing a Restore Factory Settings command is not desired, the <a class="reference internal" href="../_api/function__register_scan_8hpp_1a81ba422d9d1842165cf4bce310cc79a0.html#_CPPv4I0EN2VN12RegisterScan17saveConfigurationE5ErrorR6SensorR12ConfigWriterI1TE23SaveConfigurationFilter" title="VN::RegisterScan::saveConfiguration"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">saveConfiguration()</span></code></a> method should instead be used to save the current configuration of a VectorNav unit.</p>
</div>
<p>To save the current non-default configuration into an XML file, an <a class="reference internal" href="../_api/class_v_n_1_1_register_scan_1_1_xml_config_writer.html#_CPPv4N2VN12RegisterScan15XmlConfigWriterE" title="VN::RegisterScan::XmlConfigWriter"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">XmlConfigWriter</span></code></a> object should be created.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">RegisterScan</span><span class="o">::</span><span class="n">XmlConfigWriter</span><span class="w"> </span><span class="nf">writer</span><span class="p">(</span><span class="n">sensor</span><span class="p">,</span><span class="w"> </span><span class="n">filePath</span><span class="p">.</span><span class="n">string</span><span class="p">());</span>
</pre></div>
</div>
<p>Alternatively, to save a non-default configuration file into a text file format, an <a class="reference internal" href="../_api/class_v_n_1_1_register_scan_1_1_ascii_config_writer.html#_CPPv4N2VN12RegisterScan17AsciiConfigWriterE" title="VN::RegisterScan::AsciiConfigWriter"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">AsciiConfigWriter</span></code></a> object
should be created.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">RegisterScan</span><span class="o">::</span><span class="n">AsciiConfigWriter</span><span class="w"> </span><span class="nf">writer</span><span class="p">(</span><span class="n">filePath</span><span class="p">.</span><span class="n">string</span><span class="p">());</span>
</pre></div>
</div>
<p>For custom configuration output handling, a <a class="reference internal" href="../_api/class_v_n_1_1_register_scan_1_1_generic_config_writer.html#_CPPv4N2VN12RegisterScan19GenericConfigWriterE" title="VN::RegisterScan::GenericConfigWriter"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">GenericConfigWriter</span></code></a> object can be implemented.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">RegisterScan</span><span class="o">::</span><span class="n">GenericConfigWriter</span><span class="w"> </span><span class="nf">cout_writer</span><span class="p">(</span>
<span class="w">    </span><span class="p">[](</span><span class="k">const</span><span class="w"> </span><span class="n">AsciiMessage</span><span class="o">&amp;</span><span class="w"> </span><span class="n">msg</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">msg</span><span class="p">.</span><span class="n">c_str</span><span class="p">();</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Error</span><span class="o">::</span><span class="n">None</span><span class="p">;</span>
<span class="w">    </span><span class="p">});</span>
</pre></div>
</div>
<p>Once the <a class="reference internal" href="../_api/struct_v_n_1_1_register_scan_1_1_config_writer.html#_CPPv4I0EN2VN12RegisterScan12ConfigWriterE" title="VN::RegisterScan::ConfigWriter"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">ConfigWriter</span></code></a> object has been created, it should be passed to the <a class="reference internal" href="../_api/function__register_scan_8hpp_1ae9054ac7d2a225757084411e6d8635d0.html#_CPPv4I0EN2VN12RegisterScan27saveNonDefaultConfigurationE5ErrorR6SensorR12ConfigWriterI1TE" title="VN::RegisterScan::saveNonDefaultConfiguration"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">saveNonDefaultConfiguration()</span></code></a> method along with the <a class="reference internal" href="../_api/class_v_n_1_1_sensor.html#_CPPv4N2VN6SensorE" title="VN::Sensor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">Sensor</span></code></a> object as follows:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">saveConfigError</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RegisterScan</span><span class="o">::</span><span class="n">saveNonDefaultConfiguration</span><span class="p">(</span><span class="n">sensor</span><span class="p">,</span><span class="w"> </span><span class="n">writer</span><span class="p">);</span>
</pre></div>
</div>
</section>
</section>
<section id="api">
<h2>API<a class="headerlink" href="#api" title="Link to this heading">¶</a></h2>
<p><a class="reference internal" href="../_api/namespace_VN__RegisterScan.html#namespace-vn-registerscan"><span class="std std-ref">RegisterScan</span></a></p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
<div class="sphinx-toc sphinxglobaltoc">
<h3><a href="../Documentation.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../pages/MigrationGuide.html">Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/GettingStarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/KeyFunctionality.html">Key Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/AdvancedFunctionality.html">Advanced Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/MemoryConstrained.html">Memory Constrained</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/NonOsUsage.html">Non-Os Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/api_index.html">VNSDK API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Plugins</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Calibration.html">Calibration (<em>BETA</em>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="DataExport.html">Data Export (<em>BETA</em>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="FirmwareProgrammer.html">Firmware Programmer</a></li>
<li class="toctree-l2"><a class="reference internal" href="Logger.html">Logger</a></li>
<li class="toctree-l2"><a class="reference internal" href="Math.html">Math</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Register Scan</a></li>
<li class="toctree-l2"><a class="reference internal" href="Ros2.html">ROS2</a></li>
</ul>
</li>
</ul>
</div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="Math.html"
                          title="Previous page">&larr; Math</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="Ros2.html"
                          title="Next page">&rarr; ROS2</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/plugins/RegisterScan.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="Ros2.html" title="ROS2"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="Math.html" title="Math"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="../Documentation.html">VectorNav SDK 0.22.0 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" >Plugins</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Register Scan</a></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
    &#169; Copyright 2024, VectorNav Technologies.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>